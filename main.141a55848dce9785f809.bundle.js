(()=>{"use strict";let e=document.getElementById("form"),t=document.getElementById("textInput"),n=document.getElementById("dateInput"),a=document.getElementById("textarea"),l=document.getElementById("msg"),o=document.getElementById("tasks"),d=document.getElementById("add");const r=document.getElementById("tasks-template");e.addEventListener("submit",(e=>{e.preventDefault(),s()}));let s=()=>{""===t.value?(console.log("failure"),l.innerHTML="Task cannot be blank"):(console.log("success"),l.innerHTML="",c(),d.setAttribute("data-bs-dismiss","modal"),d.click(),d.setAttribute("data-bs-dismiss",""))},i=[],c=()=>{i.push({id:Date.now().toString(),text:t.value,date:n.value,description:a.value}),localStorage.setItem("data",JSON.stringify(i)),console.log(i),m()},m=()=>{o.innerHTML="",i.forEach((e=>{const t=document.importNode(r.content,!0);t.querySelector("[data-tasks-div]").id=e.id,console.log(e.id),t.querySelector("[data-task-name]").innerHTML=e.text,console.log(e.text),t.querySelector("[data-task-date]").innerHTML=e.date,console.log(e.date),t.querySelector("[data-task-description]").innerHTML=e.description,console.log(e.description),o.appendChild(t)})),e.reset()},u=e=>{e.target.parentElement.parentElement.remove(),i=i.filter((t=>t.id!==e.target.parentElement.parentElement.id)),localStorage.setItem("data",JSON.stringify(i)),console.log(i)};o.addEventListener("click",(e=>{e.target.classList.contains("fa-trash-alt")?(u(e),m()):(e=>{let l=e.target.parentElement.parentElement;t.value=l.children[0].innerHTML,n.value=l.children[1].innerHTML,a.value=l.children[2].innerHTML,u(e)})(e)})),i=JSON.parse(localStorage.getItem("data"))||[],console.log(i),m()})();