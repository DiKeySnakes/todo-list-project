(()=>{"use strict";document.querySelector("[data-projects-list]");const e=document.querySelector("[data-new-project-form]"),t=(document.querySelector("[data-tasks-container]"),document.querySelector("[data-project-title]"),document.querySelector("[data-task-count]"),document.querySelector("[data-tasks]")),n=(document.querySelector("[data-clear-complete-tasks-button]"),document.querySelector("[data-delete-project-button]"),document.querySelector("[data-new-task-form]")),a=document.getElementById("newTaskPriorityInput"),o=document.getElementById("newTaskNameInput"),r=document.getElementById("newProjectNameInput"),l=document.getElementById("newTaskDueDateInput"),s=document.getElementById("newTaskDescriptionInput"),c=document.getElementById("newTaskMessage"),d=document.getElementById("newProjectMessage"),i=document.getElementById("addTask"),u=document.getElementById("addProject"),m=document.getElementById("tasks-template");n.addEventListener("submit",(e=>{e.preventDefault(),g()})),e.addEventListener("submit",(e=>{e.preventDefault(),p()}));const g=()=>{""===o.value?(console.log("failure"),c.innerHTML="Task cannot be blank"):(console.log("success"),c.innerHTML="",k(),i.setAttribute("data-bs-dismiss","modal"),i.click(),i.setAttribute("data-bs-dismiss",""))},p=()=>{const e=r.value;null==e||""===e?(console.log("failure"),d.innerHTML="Project cannot be blank"):(console.log("success"),d.innerHTML="",u.setAttribute("data-bs-dismiss","modal"),u.click(),u.setAttribute("data-bs-dismiss",""))};let y=[],k=()=>{y.push({id:Date.now().toString(),priority:a.value,text:o.value,date:l.value,description:s.value}),localStorage.setItem("data",JSON.stringify(y)),console.log(y),E()},E=()=>{t.innerHTML="",y.forEach((e=>{const n=document.importNode(m.content,!0),a=n.querySelector("[data-tasks-div]");a.id=e.id,console.log(e.id);document.querySelector("data-priority");a.dataset.priority=e.priority,console.log(e.priority),n.querySelector("[data-task-name]").innerHTML=e.text,console.log(e.text),n.querySelector("[data-task-date]").innerHTML=e.date,console.log(e.date),n.querySelector("[data-task-description]").innerHTML=e.description,console.log(e.description),t.appendChild(n)})),n.reset()},S=e=>{e.target.parentElement.parentElement.remove(),y=y.filter((t=>t.id!==e.target.parentElement.parentElement.id)),localStorage.setItem("data",JSON.stringify(y)),console.log(y)};t.addEventListener("click",(e=>{if(e.target.classList.contains("fa-trash-alt"))S(e),E();else{if(!e.target.classList.contains("fa-edit"))return;(e=>{let t=e.target.parentElement.parentElement;o.value=t.firstElementChild.children[1].textContent.trim(),l.value=t.children[1].innerHTML,s.value=t.children[2].innerHTML,S(e)})(e)}})),y=JSON.parse(localStorage.getItem("data"))||[],console.log(y),E()})();